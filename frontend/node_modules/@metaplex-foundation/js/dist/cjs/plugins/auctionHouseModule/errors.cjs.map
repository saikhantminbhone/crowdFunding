{"version":3,"file":"errors.cjs","sources":["../../../../src/plugins/auctionHouseModule/errors.ts"],"sourcesContent":["import {\n  MetaplexError,\n  MetaplexErrorInputWithoutSource,\n  MetaplexErrorOptions,\n} from '@/errors';\nimport { Amount, formatAmount } from '@/types';\n\n/** @group Errors */\nexport class AuctionHouseError extends MetaplexError {\n  constructor(input: MetaplexErrorInputWithoutSource) {\n    super({\n      ...input,\n      key: `plugin.auction_house.${input.key}`,\n      title: `AuctionHouse > ${input.title}`,\n      source: 'plugin',\n      sourceDetails: 'AuctionHouse',\n    });\n  }\n}\n\n/** @group Errors */\nexport class TreasuryDestinationOwnerRequiredError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'treasury_destination_owner_required',\n      title: 'Treasury Destination Owner Required',\n      problem:\n        'You are trying to update an Auction House which uses a custom token as a treasury. ' +\n        'You have not provided the \"treasuryWithdrawalDestinationOwner\" because you do not wish to change it. ' +\n        'However, the Auction House account does not keep track of that information so we cannot prefill that for you. ' +\n        'Thus, if you wish to keep the same treasury withdrawal, you must provide it explicilty.',\n      solution:\n        'Please provide the current \"treasuryWithdrawalDestinationOwner\" parameter so you can update the other fields.' +\n        'Note that we keep that parameter optional because no Associate Token Account is needed for Auction Houses ' +\n        'whose treasury is the native SOL.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class AuctioneerAuthorityRequiredError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'auctioneer_authority_required',\n      title: 'Auctioneer Authority Required',\n      problem:\n        'You are trying to use or fetch an Auction House which delegates to an Auctioneer authority ' +\n        'but you have not provided the required \"auctioneerAuthority\" parameter.',\n      solution:\n        'Please provide the \"auctioneerAuthority\" parameter so the SDK can figure out which Auctioneer instance to interact with. ' +\n        'Note that we keep that parameter optional because no Auctioneer Authority is needed for Auction Houses ' +\n        'that use native Auction House behavior.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class AuctioneerPartialSaleNotSupportedError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'auctioneer_partial_sale_not_supported',\n      title: 'Auctioneer Partial Sale Is Not Supported',\n      problem:\n        'You are trying to execute a partial sale, but partial orders are not supported in Auctioneer.',\n      solution:\n        'Any Partial Buys must be executed against a sale listed through the Auction House Sale.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class BidAndListingHaveDifferentAuctionHousesError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'bid_and_listing_have_different_auction_houses',\n      title: 'Bid And Listing Have Different Auction Houses',\n      problem:\n        'You are trying to use a Bid and a Listing from different Auction Houses.',\n      solution:\n        'Please provide both Bid and Listing from the same Auction House. ' +\n        'They should have the same \"auctionHouse.address\".',\n    });\n  }\n}\n\n/** @group Errors */\nexport class BidAndListingHaveDifferentMintsError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'bid_and_listing_have_different_mints',\n      title: 'Bid And Listing Have Different Mints',\n      problem:\n        'You are trying to execute a sale using a Bid and a Listing that have different mint addresses.',\n      solution:\n        'Please provide a Bid and a Listing on the same asset in order to execute the sale. ' +\n        'They should have the same \"asset.address\".',\n    });\n  }\n}\n\n/** @group Errors */\nexport class CanceledBidIsNotAllowedError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'canceled_bid_is_not_allowed',\n      title: 'Canceled Bid Is Not Allowed',\n      problem: 'You are trying to execute a sale using a canceled Bid.',\n      solution:\n        'Please provide a Bid that is not cancelled in order to execute the sale.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class CanceledListingIsNotAllowedError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'canceled_listing_is_not_allowed',\n      title: 'Canceled Listing Is Not Allowed',\n      problem: 'You are trying to execute a sale using a canceled Listing.',\n      solution:\n        'Please provide a Listing that is not cancelld in order to execute the sale.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class CreateListingRequiresSignerError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'create_listing_requires_signer',\n      title: 'Create Listing Requires Signer',\n      problem: 'You are trying to create a listing without providing a signer.',\n      solution: 'Either a seller or authority must be a Signer.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class WithdrawFromBuyerAccountRequiresSignerError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'withdraw_from_buyer_account_requires_signer',\n      title: 'Withdraw From Buyer Account Requires Signer',\n      problem:\n        'You are trying to withdraw from buyer account without providing a signer.',\n      solution: 'Either a buyer or authority must be a Signer.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class PartialPriceMismatchError extends AuctionHouseError {\n  constructor(\n    expected: Amount,\n    actual: Amount,\n    options?: MetaplexErrorOptions\n  ) {\n    super({\n      options,\n      key: 'partial_price_mismatch_signer',\n      title:\n        'The calculated partial price does not equal the partial price provided',\n      problem: `Expected to receive ${formatAmount(\n        expected\n      )} per SFT but provided ${formatAmount(actual)} per SFT.`,\n      solution:\n        'The token price must equal the price it has in the listing. ' +\n        'If executing a partial sale, ' +\n        'divide the total price by the number of total tokens on sale and multiply it by the number of tokens you want to buy.',\n    });\n  }\n}\n\n/** @group Errors */\nexport class FindAllSupportsOnlyThreeFiltersMaxError extends AuctionHouseError {\n  constructor(options?: MetaplexErrorOptions) {\n    super({\n      options,\n      key: 'find_all_supports_only_three_filters_max',\n      title: 'Find all supports only three filters max',\n      problem:\n        'Solana filter allows only to provide four custom filters, one of the filters is internal so it is only possible to provide 3 custom filters.',\n      solution: 'Please provide less filters to the find all query.',\n    });\n  }\n}\n"],"names":["AuctionHouseError","MetaplexError","constructor","input","key","title","source","sourceDetails","TreasuryDestinationOwnerRequiredError","options","problem","solution","AuctioneerAuthorityRequiredError","AuctioneerPartialSaleNotSupportedError","BidAndListingHaveDifferentAuctionHousesError","BidAndListingHaveDifferentMintsError","CanceledBidIsNotAllowedError","CanceledListingIsNotAllowedError","CreateListingRequiresSignerError","WithdrawFromBuyerAccountRequiresSignerError","PartialPriceMismatchError","expected","actual","formatAmount","FindAllSupportsOnlyThreeFiltersMaxError"],"mappings":"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"}